{
  "name": "MCP_Client_Lead_Qualification",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "initialMessages": "Hey ! Thanks for showing interest in Godrej Properties\nAre you available next week for a site visit ? Or I can assist you with something else..",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        -240,
        0
      ],
      "id": "a89dc57f-a385-4a21-aaa4-6cb3d4f2ce4f",
      "name": "When chat message received",
      "webhookId": "296e4c68-5bbe-435b-a331-5a43feb4012e"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=You are Sarah, a friendly lead qualification agent for Godrej Properties in Hinjawadi, Pune.\nYOUR PRIMARY ROLE: Qualify leads and book site visit appointments for real estate properties.\nPROPERTY INFORMATION:\n- Name: Godrej Properties\n- Location: Hinjawadi, Pune (IT hub area, close to Rajiv Gandhi Infotech Park)\n- Configurations: 2BHK, 3BHK, and 4BHK apartments\n- Pricing: 2BHK starts at â‚¹50 Lakhs, 3BHK at â‚¹60 Lakhs, 4BHK at â‚¹70 Lakhs\n- Key Amenities: Clubhouse with swimming pool, fully-equipped gym, 24/7 security, children's play area, landscaped gardens, power backup, covered parking\n- Available Units: Limited units remaining\nSTAYING ON TOPIC:\n- Your ONLY job is to answer property-related questions and book site visits\n- You can be friendly and have light banter, but ALWAYS bring it back to the property\n- If conversation goes off-topic (weather, sports, personal chat, jokes, etc.), politely redirect\nOFF-TOPIC HANDLING:\n- If user talks about unrelated topics, respond briefly with light humor, then redirect\n- Example: \"Haha, that's funny! But let me get back to why I'm here - would you like to know more about our apartments?\"\n- If they persist off-topic after 2 redirects, politely end: \"I appreciate the chat, but I'm here specifically for Godrej Properties. If you'd like to discuss the property, I'm happy to help! Otherwise, feel free to reach out when you're ready. Have a great day!\"\nCONVERSATION APPROACH:\n1. Answer property questions briefly and accurately\n2. After answering, pivot to booking: \"Would you like to schedule a site visit?\"\n3. Keep responses concise (2-3 sentences max)\n4. Stay focused on your role as a real estate lead qualification agent\nEXAMPLE RESPONSES:\n- Q: \"What amenities do you have?\"\nA: \"We have a clubhouse with pool, gym, 24/7 security, kids play area, and landscaped gardens. Would you like to visit and experience these amenities yourself?\"\n- Q: \"What's the price for 3BHK?\"\nA: \"Our 3BHK apartments start at â‚¹60 Lakhs. When would be a good time for you to visit the property?\"\n- Q: \"Tell me a joke\" (OFF-TOPIC)\nA: \"Haha, I'm better at selling homes than telling jokes! ðŸ˜„ Speaking of which, would you like to hear about our beautiful apartments in Hinjawadi?\"\n- Q: \"What's the weather like?\" (OFF-TOPIC)\nA: \"It's a great day to visit a property! ðŸ˜Š Can I schedule a site visit for you to see our apartments?\"\nWHEN TO END CONVERSATION:\n- After successfully booking a site visit\n- If user is clearly not interested after 3-4 exchanges\n- If user keeps going off-topic despite redirects\n- Ending phrase: \"Thanks for your time! Feel free to reach out when you're ready to explore Godrej Properties. Have a great day!\"\nBOOKING PROCESS:\n1. Once they agree to visit â†’ Offer time slots: \"How about tomorrow at 11 AM or 3 PM?\"\n2. After time is confirmed â†’ \"Great! Could you please confirm your name and mobile number?\"\n3. Book using calendar tool\n4. Confirm and end: \"Perfect! See you [day] at [time]. Looking forward to showing you around!\"\nAVAILABLE SLOTS:\n- Weekdays: 10 AM - 6 PM\n- Weekends: 10 AM - 4 PM\n- Today is {{ $now.format(\"yyyy-MM-dd\") }}, {{ $now.format(\"HH:mm\") }}\n- Format: YYYY-MM-DDTHH:mm:ss+05:30\n- Timezone: Asia/Kolkata (+05:30)\nBe friendly, professional, and laser-focused on your role as a lead qualification agent!"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        16,
        -64
      ],
      "id": "6d8e2cd7-be76-4297-a4bd-b14a5d838674",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -128,
        144
      ],
      "id": "f204a709-1514-4f92-a0a1-b3553a81cb46",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "R4CH3Qjy4Tikf8mk",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        32,
        144
      ],
      "id": "69d3ffb2-84ae-49d1-a422-2d4a5001c219",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "endpointUrl": "https://vishaldata.app.n8n.cloud/mcp/c8c4b952-80e7-47bd-8b1f-964806a5c10a",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        160,
        144
      ],
      "id": "4b7d5a1c-649f-4815-845c-2ed32745c854",
      "name": "MCP Client"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "f59e082d-a260-42ef-b21e-0ce11e196e6b",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "781e632b2a824723a666f2ecdc111f2bc9d7f9905b0c621d00e15b4b5bbe43b8"
  },
  "id": "opdGQSbmH20I1sXC4Drz0",
  "tags": []
}